# cPlusPlusLean


#### 内存分区模型
- 代码区 ：存放函数体二进制代码
- 全局区 ：全局变量，静态变量，常量
- 栈区：编译区自动分配释放，局部变量，函数的参数
- 堆区：程序员可管理的，操作释放，否则在系统结束时，释放。

#### 编译程序各种状态
#### 1. 程序运行前（编译之后exe文件）
代码区：存放 共享的，只读的，cpu执行的机器指令。

全局区：存放 常量，全局变量，静态变量（通过他们的地址可以看出存放地址端得差别）

#### 2. 程序运行时

栈区：存放局部，函数参数等
> 注意不要返回局部变量的地址，局部变量存放栈中，随函数执行完，局部变量会被释放，地址失效。
```
int * function(){
    int num =0;
    return &num
}
不要这样做
```

堆区：由程序猿开辟数据空间，由程序猿释放，如果不释放，那么系统结束时，会帮助释放，常使用new 开辟堆数据，使用delete释放；
```
double * f(){
    double * p  = new double(10);
    int * arr = new int[10];
    delete[] arr; // 删除数组
    return p;
}

void test(){
  double * c = f();
  delete c;
}
``` 
